<?php

/**
 * Event
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    tf2logs
 * @subpackage model
 * @author     Brian Barnekow
 */
class Event extends BaseEvent {
  public function kill($elapsedSeconds, $attackerPlayerId, $attackerCoord, $victimPlayerId, $victimCoord) {
    $this->event_type = "kill";
    $this->elapsed_seconds = $elapsedSeconds;
    $this->Attacker = $attackerPlayerId;
    $this->attacker_coord = $attackerCoord;
    $this->Victim = $victimPlayerId;
    $this->victim_coord = $victimCoord;
  }
  
  public function assist($assistPlayerId, $assistCoord) {
    $this->assist_player_id = $assistPlayerId;
    $this->assist_coord = $assistCoord;
  }
  
  public function chat($elapsedSeconds, $chatType, $playerId, $text) {
    $this->elapsed_seconds = $elapsedSeconds;
    $this->event_type = $chatType;
    $this->chat_player_id = $playerId;
    $this->text = $text;
  }
  
  public function pointCapture($elapsedSeconds, $playerIds, $team, $capturePoint) {
    $this->elapsed_seconds = $elapsedSeconds;
    $this->event_type = 'pointCap';
    $this->team = strtolower($team);
    $this->capture_point = $capturePoint;
    foreach($playerIds as $id) {
      $ep = new EventPlayer();
      $ep->setEventPlayerType('C');
      $ep->setPlayerId($id);
      $this->EventPlayers[] = $ep;
    }
  }
  
  public function roundStart($elapsedSeconds, $blueScore, $redScore) {
    $this->elapsed_seconds = $elapsedSeconds;
    $this->event_type = 'rndStart';
    $this->blue_score = $blueScore;
    $this->red_score = $redScore;
  }
}
